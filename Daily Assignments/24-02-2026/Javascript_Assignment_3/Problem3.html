<!DOCTYPE html>
<html>
<head>
    <title>Simple Location Logger</title>
</head>
<body>

<h2>Location Logger</h2>

<button onclick="getLocation()">Get My Location</button>

<p id="output"></p>

<h3>Last 5 Locations</h3>
<ul id="history"></ul>

<script>
function getLocation() {
    navigator.geolocation.getCurrentPosition(success, error);
}

function success(position) {
    let lat = position.coords.latitude;
    let lon = position.coords.longitude;

    document.getElementById("output").innerText =
        "Latitude: " + lat + " , Longitude: " + lon;

    let history = JSON.parse(localStorage.getItem("locations")) || [];

    history.unshift({ lat: lat, lon: lon });

    if (history.length > 5) {
        history = history.slice(0, 5);
    }

    localStorage.setItem("locations", JSON.stringify(history));

    displayHistory();
}

function error(err) {
    if (err.code == 1) {
        alert("Permission Denied");
    } else if (err.code == 2) {
        alert("Location Unavailable");
    } else if (err.code == 3) {
        alert("Request Timeout");
    }
}

function displayHistory() {
    let history = JSON.parse(localStorage.getItem("locations")) || [];
    let list = document.getElementById("history");
    list.innerHTML = "";

    history.forEach(loc => {
        let li = document.createElement("li");
        li.innerText = "Lat: " + loc.lat + " , Lon: " + loc.lon;
        list.appendChild(li);
    });
}

window.onload = displayHistory;
</script>

</body>
</html>